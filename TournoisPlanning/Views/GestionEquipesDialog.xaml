<!-- TournoisPlanning.Views/GestionEquipesDialog.xaml -->
<UserControl x:Class="TournoisPlanning.Views.GestionEquipesDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:TournoisPlanning.Views"
        mc:Ignorable="d" Height="600" Width="800">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Titre -->
        <TextBlock Grid.Row="0" Text="Gestion des Équipes" FontSize="24" FontWeight="SemiBold" Margin="0,0,0,20"/>

        <!-- Formulaire d'ajout -->
        <GroupBox Grid.Row="1" Header="Ajouter une nouvelle équipe" Padding="10" Margin="0,0,0,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Colonne 1 -->
                <StackPanel Grid.Column="0" Grid.Row="0" Margin="0,0,10,0">
                    <TextBlock Text="Nom de l'équipe *" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding NouvelleEquipe.Nom, UpdateSourceTrigger=PropertyChanged}" Padding="5"/>
                </StackPanel>

                <StackPanel Grid.Column="0" Grid.Row="1" Margin="0,10,10,0">
                    <TextBlock Text="Contact" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding NouvelleEquipe.Contact}" Padding="5"/>
                </StackPanel>

                <!-- Colonne 2 -->
                <StackPanel Grid.Column="1" Grid.Row="0" Margin="10,0,0,0">
                    <TextBlock Text="Email" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding NouvelleEquipe.Email}" Padding="5"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Grid.Row="1" Margin="10,10,0,0">
                    <TextBlock Text="Téléphone" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding NouvelleEquipe.Telephone}" Padding="5"/>
                </StackPanel>

                <!-- Bouton d'ajout -->
                <Button Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="2"
                        Content="Ajouter l'équipe" 
                        Command="{Binding AjouterEquipeCommand}"
                        HorizontalAlignment="Right"
                        Background="#8b5cf6" Foreground="White"
                        Padding="15,8" Margin="0,15,0,0"/>
            </Grid>
        </GroupBox>

        <!-- Liste des équipes -->
        <GroupBox Grid.Row="2" Header="Équipes existantes" Padding="10">
            <DataGrid ItemsSource="{Binding Equipes}" 
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      BorderThickness="1"
                      BorderBrush="#EEEEEE"
                      HeadersVisibility="Column"
                      GridLinesVisibility="Horizontal"
                      AlternatingRowBackground="#F5F5F5">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Nom" Binding="{Binding Nom}" Width="*"/>
                    <DataGridTextColumn Header="Contact" Binding="{Binding Contact}" Width="*"/>
                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="*"/>
                    <DataGridTextColumn Header="Téléphone" Binding="{Binding Telephone}" Width="*"/>
                    <DataGridTemplateColumn Width="Auto">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <Button Content="Supprimer" 
                                        Command="{Binding DataContext.SupprimerEquipeCommand, 
                                                  RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                        CommandParameter="{Binding Id}"
                                        Background="#ff4d4f" Foreground="White"
                                        Padding="10,5"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </DataGrid>
        </GroupBox>

        <!-- Boutons de navigation -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
            <Button Content="Fermer" 
                    Command="{Binding FermerDialogueCommand}"
                    CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                    Padding="15,8" Margin="0,0,10,0"/>
        </StackPanel>
    </Grid>
</UserControl>